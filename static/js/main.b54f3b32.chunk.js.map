{"version":3,"sources":["redux/actionTypes.js","redux/status.js","components/PlayerFormComponent.js","components/PlayerComponent.js","components/TimerComponent.js","web3/web3.js","contracts/rockps.js","components/GameStatusComponent.js","components/HeaderComponent.js","components/LoadingComponent.js","components/MainComponent.js","web3/utils.js","redux/actionCreators.js","redux/statusReducer.js","redux/playersReducer.js","redux/rootReducer.js","App.js","redux/configureStore.js","serviceWorker.js","index.js"],"names":["FINALISE_GAME_REQUEST","RESET_GAME_REQUEST","FETCH_PLAYERS_REQUEST","PLAYERS_FAILED","UPDATE_PLAYERS","UPDATE_PLAYER","UPDATE_PLAYER_ACT","UPDATE_PLAYER_PL2","FETCH_STATUS_REQUEST","STATUS_FAILED","UPDATE_STATUS","UPDATE_STATUS_COUNT","UPDATE_STATUS_FINALISED","UPDATE_STATUS_ACT","UPDATE_STATUS_TIMER","SUBMIT_COMMIT_REQUEST","REVEAL_COMMIT_REQUEST","REVEAL_COMMIT_FAILED","ST1","NOT_COMMITTED","COMMITTED","ST2","NOT_REVEALED","REVEALED","ACT","SENDING","SENT","NONE","RESET","FINAL","PENDING","WINNER","NEUTRAL","NOT_PLAYED","DRAW","NA","PlayerForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChangeChoice","event","index","setState","choices","target","value","state","handleChangeNounce","nounces","handleChoice","handleNounce","handleSubmit","preventDefault","type","submitCommit","player","revealCommit","bind","assertThisInitialized","_this2","react_default","a","createElement","Form","onSubmit","FormGroup","Label","for","Input","id","name","onChange","placeholder","act","Status","Fragment","Button","Component","connect","dispatch","choice","nounce","ActionTypes","payload","Player","Card","CardHeader","tag","CardBody","_ref2","status1","PlayerFormComponent","CardText","addr","_ref3","status2","pl2status1","CardFooter","className","_ref","getTimeLeft","revealTime","maxTime","dateNow","Date","now","console","log","Math","floor","Timer","players","toLocaleString","web3","Web3","window","currentProvider","rockpsAddress","rockps","eth","Contract","constant","inputs","outputs","payable","stateMutability","GameStatus","handleFinalSubmit","finaliseGame","handleReset","resetGame","fetchGameStatus","Finalise","color","onClick","Reset","gameIsLoading","gameErrMsg","playersErrMsg","status","last","playerCount","playersIsLoading","TimerComponent_Timer","gameStatus","Intro","Instructions","Header","Jumbotron","HeaderComponent_Intro","GameStatusComponent","HeaderComponent_Instructions","Loading","Main","fetchPlayers","HeaderComponent","LoadingComponent_Loading","PlayerComponent","asyncToGenerator","regenerator_default","mark","_callee","playerAddr","hasRevealed","wrap","_context","prev","next","t0","parseInt","methods","getPlayerCount","t1","sent","getPlayers","t2","push","abrupt","getRevealed","stop","apply","arguments","_callee2","accounts","commit","_context2","getAccounts","utils","soliditySha3","enterCommitment","send","from","_x","_callee3","_context3","reveal","firstRevealTime","_x2","fetchStatus","_ref4","_callee4","getLastest","gameCount","canBeFinalised","_context4","latestWinner","t3","length","t4","t5","t6","timer","t7","resetPlayers","resetStatus","_ref5","_callee5","_context5","_ref6","_callee6","_context6","watchFinaliseGame","watchResetGame","watchRevealCommit","watchSubmitCommit","watchFetchPlayers","watchFetchGameStatus","rootSaga","takeEvery","_marked","put","message","_marked2","_marked3","_marked4","_marked5","action","objectSpread","_marked6","_context7","_marked7","index2","_context8","_marked8","_context9","_marked9","_context10","_marked10","_context11","_marked11","_context12","_marked12","_context13","all","_marked13","subPlayers","rootReducer","combineReducers","undefined","store","sagaMiddleware","createSagaMiddleware","createStore","compose","applyMiddleware","logger","run","configureStore","App","es","MainComponent","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b54f3b32.chunk.js","sourcesContent":["export const FINALISE_GAME_REQUEST = 'FINALISE_GAME_REQUEST';\nexport const FINALISE_GAME_SUCCESS = 'FINALISE_GAME_SUCCESS';\nexport const FINALISE_GAME_FAILED = 'FINALISE_GAME_FAILED';\n\nexport const RESET_GAME_REQUEST = 'RESET_GAME_REQUEST';\nexport const RESET_GAME_SUCCESS = 'RESET_GAME_SUCCESS';\nexport const RESET_GAME_FAILED = 'RESET_GAME_FAILED';\n\nexport const FETCH_PLAYERS_REQUEST = 'FETCH_PLAYERS_REQUEST';\nexport const PLAYERS_FAILED = 'PLAYERS_FAILED';\nexport const UPDATE_PLAYERS = 'UPDATE_PLAYERS';\nexport const UPDATE_PLAYER = 'UPDATE_PLAYER';\nexport const UPDATE_PLAYER_ACT = 'UPDATE_PLAYER_ACT';\nexport const UPDATE_PLAYER_ST1 = 'UPDATE_PLAYER_ST1';\nexport const UPDATE_PLAYER_ST2 = 'UPDATE_PLAYER_ST2';\nexport const UPDATE_PLAYER_ADDR = 'UPDATE_PLAYER_ADDR';\nexport const UPDATE_PLAYER_PL2 = 'UPDATE_PLAYER_PL2';\n\nexport const FETCH_STATUS_REQUEST = 'FETCH_STATUS_REQUEST';\nexport const STATUS_FAILED = 'STATUS_FAILED';\nexport const UPDATE_STATUS = 'UPDATE_STATUS';\nexport const UPDATE_STATUS_COUNT = 'UPDATE_STATUS_COUNT';\nexport const UPDATE_STATUS_FINALISED = 'UPDATE_STATUS_FINALISED';\nexport const UPDATE_STATUS_ACT = 'UPDATE_STATUS_ACT';\nexport const UPDATE_STATUS_TIMER = 'UPDATE_STATUS_TIMER';\n\nexport const SUBMIT_COMMIT_REQUEST = 'SUBMIT_COMMIT_REQUEST';\nexport const SUBMIT_COMMIT_SUCCESS = 'SUBMIT_COMMIT_SUCCESS';\nexport const SUBMIT_COMMIT_FAILED = 'SUBMIT_COMMIT_FAILED';\n\nexport const REVEAL_COMMIT_REQUEST = 'REVEAL_COMMIT_REQUEST';\nexport const REVEAL_COMMIT_SUCCESS = 'REVEAL_COMMIT_SUCCESS';\nexport const REVEAL_COMMIT_FAILED = 'REVEAL_COMMIT_FAILED';","export const LOADING = '...loading';\n\nexport const ST1 = {\n  NOT_COMMITTED: 'Has not picked his/her choice yet',\n  COMMITTED: 'Has sent his/her commitment',\n};\n\nexport const ST2 = {\n  NOT_REVEALED: 'Has not revealed his/her choice yet',\n  REVEALED: 'Has revealed his/her choice'\n};\n\nexport const ACT = {\n  SENDING: 'Sending transaction...',\n  SENT: 'Transaction sent!',\n  NONE: '',\n  RESET: 'Resetting the game...',\n  FINAL: 'Finalising the game...',\n  PENDING: 'Waiting for the other player...',\n};\n\nexport const WINNER = {\n  NEUTRAL: '0x0000000000000000000000000000000000000000',\n  RESET: 'game reset',\n  NOT_PLAYED: 'game not played yet',\n  DRAW: 'draw'\n}\n\nexport const YES = 'Yes';\nexport const NO = 'No';\nexport const NA = 'N/A';\n\nexport const BOTH = 2;","import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport * as ActionTypes from '../redux/actionTypes';\nimport * as Status from '../redux/status';\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    submitCommit: (index, choice, nounce, player) => dispatch({ \n      type: ActionTypes.SUBMIT_COMMIT_REQUEST, \n      payload: {\n        index: index,\n        choice: choice,\n        nounce: nounce,\n        player: player\n      }}),\n    revealCommit: (index, choice, nounce, player) => dispatch({ \n      type: ActionTypes.REVEAL_COMMIT_REQUEST, \n      payload: {\n        index: index,\n        choice: choice,\n        nounce: nounce,\n        player: player\n      }})\n  };\n};\n\nclass PlayerForm extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      choices: [0, 0],\n      nounces: [0, 0]\n    };\n\n    this.handleChangeChoice = this.handleChangeChoice.bind(this);\n    this.handleChangeNounce = this.handleChangeNounce.bind(this);\n    this.handleChoice = this.handleChoice.bind(this);\n    this.handleNounce = this.handleNounce.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  };\n\n  handleChangeChoice = (event) => {\n    (this.props.index === 0) \n      ? this.setState({ choices: [event.target.value, this.state.choices[1]] })\n      : this.setState({ choices: [this.state.choices[0], event.target.value] });\n  };\n\n  handleChangeNounce = (event) => { \n    (this.props.index === 0) \n      ? this.setState({ nounces: [event.target.value, this.state.nounces[1]] })\n      : this.setState({ nounces: [this.state.nounces[0], event.target.value] });\n  };\n\n  handleChoice = (index) => { return this.state.choices[index]; };\n  handleNounce = (index) => { return this.state.nounces[index]; };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    (this.props.type === 'commit')\n      ? this.props.submitCommit(\n        this.props.index,\n        this.state.choices[this.props.index],\n        this.state.nounces[this.props.index],\n        this.props.player)\n      : this.props.revealCommit(\n        this.props.index,\n        this.state.choices[this.props.index],\n        this.state.nounces[this.props.index],\n        this.props.player);\n\n    (this.props.index === 0) \n      ? this.setState({ nounces: ['', this.state.nounces[1]] })\n      : this.setState({ nounces: [this.state.nounces[0], ''] });\n  };\n\n  render() {\n\n    const Commit = () => {\n      if(this.props.player.act === Status.ACT.SENDING) {\n        return (<></>);\n      }\n      else {\n        return ( <Button>Commit</Button> );\n      }\n    }\n\n    return(\n      <Form onSubmit={(event) => this.handleSubmit(event)}>\n        <FormGroup>\n          <Label for=\"choice\">Pick a choice</Label>\n          <Input type=\"select\" id=\"choice\" name=\"choice\" \n          value={this.handleChoice(this.props.index)} \n          onChange={(event) => this.handleChangeChoice(event)}>\n            <option value=\"0\">Rock</option>\n            <option value=\"1\">Paper</option>\n            <option value=\"2\">Scissor</option>\n          </Input>\n          <Label for=\"nounce\">Pick a secret number</Label>\n          <Input type=\"text\" id=\"nounce\" name=\"nounce\" \n          value={this.handleNounce(this.props.index)} \n          onChange={(event) => this.handleChangeNounce(event)}\n          placeholder=\"your secret number\">\n          </Input>\n        </FormGroup>\n        <Commit />\n      </Form>\n    );\n  }\n\n}\n\nexport default connect(null, mapDispatchToProps)(PlayerForm);","import React from 'react';\nimport { Card, CardHeader, CardBody, CardText, CardFooter } from 'reactstrap';\nimport PlayerForm from './PlayerFormComponent';\nimport * as Status from '../redux/status';\n\nconst Player = (props) => {\n    \n  const ShowAction = ({ player }) => {\n    if (player.act !== Status.ACT.NONE ) {\n        return (<span className=\"action\"> {player.act} </span>);\n      }\n    else { return (<> </>); }\n  };\n\n  const Commit = ({ index, player }) => {\n    if (player.status1 === Status.ST1.NOT_COMMITTED) {\n      return ( \n        <PlayerForm \n          index={index} \n          type={'commit'}\n          player={player}/> \n      );\n    }\n    else {\n      return (\n        <>\n          <CardText>{player.status1}</CardText> \n          <CardText>Contract used: {player.addr}</CardText>\n        </>\n      );\n    }\n  }\n\n  const Reveal = ({ index, player }) => {\n    if ( player.status1 === Status.ST1.COMMITTED\n    && player.status2 === Status.ST2.NOT_REVEALED\n    && player.pl2status1 === Status.ST1.COMMITTED) {\n      return (\n        <PlayerForm \n          index={index} \n          type={'reveal'}\n          player={player}/> \n      );\n    }\n    else if (player.pl2status1 === Status.ST1.NOT_COMMITTED) {\n      return (\n        <CardText>{Status.ACT.PENDING}</CardText> \n      );\n    }\n    else {\n      return (\n        <CardText>{player.status2}</CardText> \n      );\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader tag=\"h4\">{props.name}</CardHeader>\n      <div>\n        <CardHeader tag=\"h6\">Phase 1: Commit</CardHeader>\n        <CardBody>\n          <Commit \n            index={props.index} \n            player={props.player} />\n        </CardBody>\n      </div>\n      <div>\n        <CardHeader tag=\"h6\">Phase 2: Reveal</CardHeader>\n        <CardBody>\n          <Reveal\n            index={props.index} \n            player={props.player} />\n        </CardBody>\n      </div>\n      <CardFooter className=\"text-muted\">\n        <ShowAction player={props.player} />\n      </CardFooter>\n    </Card>\n  );\n\n};\n\nexport default Player;","import React from 'react';\nimport * as Status from '../redux/status';\n\nconst getTimeLeft = (revealTime, maxTime) => {\n  const dateNow = Date.now()/1000;\n  console.log(dateNow);\n  console.log(revealTime + maxTime);\n  console.log( maxTime);\n  console.log(revealTime );\n\n  if (dateNow > revealTime + maxTime) {\n    return 0;\n  } else {\n    return Math.floor(revealTime + maxTime - dateNow);\n  }\n}\n\nexport const Timer = (props) => {\n\n  if ((props.players[0].status2 === Status.ST2.REVEALED \n    && props.players[1].status2 !== Status.ST2.REVEALED) \n    || \n    (props.players[1].status2 === Status.ST2.REVEALED \n    && props.players[0].status2 !== Status.ST2.REVEALED)) {\n      const timeLeft = getTimeLeft(props.revealTime, props.maxTime);\n      if (timeLeft > 0) {\n        return (\n          <div>\n            <p className=\"action\">1st commit revealed on {(new Date(props.revealTime).toLocaleString('en-GB'))}</p>\n            <p className=\"action\">2nd reveal to happen before the next {getTimeLeft(props.revealTime, props.maxTime)} seconds</p>\n          </div>\n        );\n      } else {\n        return (\n          <div className=\"action\">\n            <p>Time's up !</p>\n            <p>It's too late for the second player to reveal...</p>\n          </div>\n        );\n      }\n  } else {\n    return (<div></div>);\n  }\n}","// configuration of web3\nimport Web3 from 'web3';\n\n// hijacking the provider from metamask instance of web3\n// this provider has been configured to access the Rinkeby network but also has access to my accounts\nconst web3 = new Web3(window.web3.currentProvider);\n\nexport default web3;","import web3 from '../web3/web3';\n\nexport const rockpsAddress = '0xdd450bdf401a01776a731fc4ba4689933bf45976';\nexport const rockpsInterface = [\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"latestWinner\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"getBalance\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"reward\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"commit\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"enterCommitment\",\n\t\t\"outputs\": [],\n\t\t\"payable\": true,\n\t\t\"stateMutability\": \"payable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"gameCount\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [],\n\t\t\"name\": \"finaliseGame\",\n\t\t\"outputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"newTimer\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"changeTimer\",\n\t\t\"outputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"firstRevealTime\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"timer\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"getPlayers\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address[]\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"owner\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"choice\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"nounce\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"reveal\",\n\t\t\"outputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"getRevealed\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool[2]\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [],\n\t\t\"name\": \"resetGame\",\n\t\t\"outputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"getPlayerCount\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"getTimeLeft\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"candidate\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"notAlreadyIn\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"requiredValue\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"constructor\"\n\t}\n];\n\nexport default new web3.eth.Contract(rockpsInterface, rockpsAddress);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as ActionTypes from '../redux/actionTypes';\nimport * as Status from '../redux/status';\nimport { Timer } from './TimerComponent';\nimport { Button } from 'reactstrap';\nimport { rockpsAddress } from '../contracts/rockps';\n\nconst mapStateToProps = state => {\n  return {\n    status: state.gameStatus.status,\n    gameIsLoading: state.gameStatus.gameIsLoading,\n    gameErrMsg: state.gameStatus.gameErrMsg,\n    players: state.players.players,\n    playersIsLoading: state.players.playersIsLoading,\n    playersErrMsg: state.players.playersErrMsg\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    finaliseGame: () => dispatch({ type: ActionTypes.FINALISE_GAME_REQUEST }),\n    resetGame: () => dispatch({ type: ActionTypes.RESET_GAME_REQUEST }),\n    fetchGameStatus: () => dispatch({ type: ActionTypes.FETCH_STATUS_REQUEST })\n  };\n};\n\nclass GameStatus extends Component {\n\n  componentDidMount() { this.props.fetchGameStatus(); }\n  handleFinalSubmit = () => this.props.finaliseGame();\n  handleReset = () => this.props.resetGame();\n\n  render() {\n\n    const Finalise = () => {\n      if (this.props.players[0].status2 === Status.ST2.REVEALED\n        && this.props.players[1].status2 === Status.ST2.REVEALED) {\n        return (\n          <p className=\"lead\">\n            <Button color=\"primary\" onClick={() => this.handleFinalSubmit()}>Check winner</Button> </p>\n        );\n      }\n      else { return( <div /> )}\n    };\n\n    const Reset = () => {\n      return (\n        <p className=\"lead\">\n          <Button color=\"primary\" onClick={() => this.handleReset()}>Reset Game</Button> </p>\n      );\n    };\n\n    const Controls = () => {\n      if (this.props.playersIsLoading) {\n        return ( <p className=\"action\">Loading players status...</p> );\n      }\n      else if (this.props.status.act !== Status.ACT.NONE) {\n        return( <p className=\"action\">{this.props.status.act}</p> );\n      }\n      else {\n        return ( <div> <Finalise /> <Reset /> </div> );\n      }\n    }\n    \n    if (this.props.gameIsLoading) {\n      return (\n        <div>\n          <div>\n            <h4>Game status</h4>\n            <p className=\"action\">Loading game status...</p>\n          </div>\n          <hr className=\"my-2\" />\n        </div>\n      );\n    }\n    \n    else if (this.props.gameErrMsg) {\n      return (\n        <div>\n          <div>\n            <h4>Game status</h4>\n            <p className=\"action\">{this.props.gameErrMsg}</p>\n            <p className=\"action\">Reload this page to get latest status and try again...</p>\n          </div>\n          <hr className=\"my-2\" />\n        </div>\n      );\n    }\n    \n    else if (this.props.playersErrMsg) {\n      return ( <div> <p className=\"action\">Error...</p> </div> );\n    }\n\n    else {\n      return(\n        <div>\n          <div>\n            <h4>Game status</h4>\n            <p>Contract deployed on Rinkeby at: {rockpsAddress}</p>\n            <p>Last game winner: {this.props.status.last}</p>\n            <p>Currently {this.props.status.playerCount} players have committed their choice.</p>\n            <Controls />\n            <Timer \n              revealTime={this.props.status.revealTime} \n              maxTime={this.props.status.maxTime}\n              players={this.props.players} />\n          </div>\n          <hr className=\"my-2\" />\n        </div>\n      );\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GameStatus);","import React from 'react';\nimport { Jumbotron } from 'reactstrap';\nimport GameStatus from './GameStatusComponent';\n\nconst Header = () => {\n  return(\n    <Jumbotron>\n      <Intro />\n      <GameStatus />\n      <Instructions />\n    </Jumbotron>\n  );\n}\n\nconst Intro = () => {\n  return (\n    <div>\n      <h1 className=\"display-3\">Rock Paper Scissor</h1>\n      <hr className=\"my-2\" />\n    </div>\n  );\n}\n\nconst Instructions = () => {\n  return (\n    <div>\n      <h4>Instructions</h4>\n      <p>Have Metamask installed (change account for each player)</p>\n      <p>1) Commit 2) Reveal 3) Finish</p>\n    </div>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const Loading = () => {\n  return (\n    <div className=\"col-12\">\n      <span className=\"fa fa-spinner fa-pulse fa-3x fa-fw text-primary\">\n      </span>\n      <p className=\"action\">Loading . . .</p>\n    </div>\n  );\n};","import React, { Component } from 'react';\nimport Player from './PlayerComponent.js';\nimport Header from './HeaderComponent';\nimport * as ActionTypes from '../redux/actionTypes';\nimport { connect } from 'react-redux';\nimport { Loading } from './LoadingComponent';\n\nconst mapStateToProps = state => {\n  return { \n    players: state.players.players,\n    playersIsLoading: state.players.playersIsLoading,\n    playersErrMsg: state.players.playersErrMsg \n  };\n}\n\nconst mapDispactchToProps = dispatch => {\n  return {\n    fetchPlayers: () => dispatch({ type: ActionTypes.FETCH_PLAYERS_REQUEST })\n  };\n}\n\nclass Main extends Component {\n\n  componentDidMount() {\n    this.props.fetchPlayers();\n  }\n\n  render() {\n\n    const Players = () => {\n\n      if (this.props.playersIsLoading) {\n        return (\n          <div className=\"container\">\n            <div className=\"row\">\n              <Loading />\n            </div>\n          </div>\n        );\n      }\n    \n      else if (this.props.playersErrMsg) {\n        return (\n          <div className=\"container\">\n            <div className=\"row\">\n              <h4 className=\"action\">{this.props.playersErrMsg}</h4>\n              <p>Refresh this page to load latest game status from Rinkeby and try again</p>\n            </div>\n          </div>\n        );\n      }\n\n      else {\n        return (\n          <div className=\"row justify-content-center\">\n            <div className=\"col-10 col-md-5 m-auto\">\n              <Player name='Alice' index={0} player={this.props.players[0]} />\n            </div>\n            <div className=\"col-10 col-md-5 m-auto\">\n              <Player name='Bob' index={1} player={this.props.players[1]} />\n            </div>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div className=\"container\">\n        <Header />\n        <Players />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispactchToProps)(Main);\n","import rockps from '../contracts/rockps';\nimport web3 from './web3';\nimport * as Status from '../redux/status';\n\nexport const fetchPlayers = async () => {\n  const playerCount = parseInt(await rockps.methods.getPlayerCount().call());\n  const playerAddr = await rockps.methods.getPlayers().call();\n\n  const players = [];\n  switch(playerCount) {\n    case 0:\n      players.push({ \n        addr: Status.NA, // player's address\n        status1: Status.ST1.NOT_COMMITTED, // player's commit status\n        pl2status1: Status.ST1.NOT_COMMITTED, // other player's reveal status\n        status2: Status.ST2.NOT_REVEALED, // player's reveal status\n        act: Status.ACT.NONE // player's ongoing actions\n      });\n      players.push({ addr: Status.NA, status1: Status.ST1.NOT_COMMITTED, pl2status1: Status.ST1.NOT_COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n      break;\n    case 1:\n      players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.NOT_COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n      players.push({ addr: Status.NA, status1: Status.ST1.NOT_COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n      break;\n    case 2:\n      const hasRevealed = await rockps.methods.getRevealed().call();\n      if (hasRevealed[0] && hasRevealed[1]) {\n        players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.REVEALED, act: Status.ACT.NONE });\n        players.push({ addr: playerAddr[1], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.REVEALED, act: Status.ACT.NONE });\n      }\n      else if (!hasRevealed[0] && !hasRevealed[1]) {\n        players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n        players.push({ addr: playerAddr[1], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n      }\n      else {\n        if (hasRevealed[0]) {\n          players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.REVEALED, act: Status.ACT.NONE});\n          players.push({ addr: playerAddr[1], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n        }\n        else {\n          players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n          players.push({ addr: playerAddr[1], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.REVEALED, act: Status.ACT.NONE });\n        }\n      }\n      break;\n    default:\n  };\n  return(players);\n};\n\nexport const submitCommit = async (payload) => {\n  const accounts = await web3.eth.getAccounts();\n  const choice = payload.choice;\n  const nounce = payload.nounce;\n\n  const commit = web3.utils.soliditySha3(choice, nounce);\n  await rockps.methods.enterCommitment(commit).send({ \n    from: accounts[0],\n    value: 1000 \n  });\n  \n  return accounts[0];\n};\n\nexport const revealCommit = async (payload) => {\n  const accounts = await web3.eth.getAccounts();\n  const choice = payload.choice;\n  const nounce = payload.nounce;\n\n  await rockps.methods.reveal(choice,nounce).send({ from: accounts[0] });\n  return parseInt(await rockps.methods.firstRevealTime().call());\n};\n\nexport const fetchStatus = async () => {\n    \n  const getLastest = await rockps.methods.latestWinner().call();\n  let gameCount = parseInt(await rockps.methods.gameCount().call());\n  let last = Status.WINNER.NOT_PLAYED;\n  if (gameCount !== 0) { \n    last = (getLastest === Status.WINNER.NEUTRAL) \n      ? Status.WINNER.DRAW\n      : getLastest;\n  };\n\n  const playerCount = parseInt(await rockps.methods.getPlayerCount().call());\n\n  let canBeFinalised = false;\n  const playerAddr = await rockps.methods.getPlayers().call();\n  if (playerAddr.length === 2) {\n    const hasRevealed = await rockps.methods.getRevealed().call();\n    if (hasRevealed[0] && hasRevealed[1]) {\n      canBeFinalised = true;\n    }\n  }\n\n  const revealTime = parseInt(await rockps.methods.firstRevealTime().call());\n  const maxTime = parseInt(await rockps.methods.timer().call());\n\n  return({\n    canBeFinalised: canBeFinalised,\n    playerCount: playerCount,\n    last: last,\n    act: Status.ACT.NONE,\n    revealTime: revealTime,\n    maxTime: maxTime\n  });\n};\n\nexport const resetPlayers = () => {\n  return [\n    { addr: Status.NA, \n      status1: Status.ST1.NOT_COMMITTED, \n      pl2status1: Status.ST1.NOT_COMMITTED, \n      status2: Status.ST2.NOT_REVEALED, \n      act: Status.ACT.NONE },\n    { addr: Status.NA, \n      status1: Status.ST1.NOT_COMMITTED, \n      pl2status1: Status.ST1.NOT_COMMITTED, \n      status2: Status.ST2.NOT_REVEALED, \n      act: Status.ACT.NONE }\n  ];\n};\n\nexport const resetStatus = (last) => {\n  return ({\n    playerCount: 0,\n    canBeFinalised: Status.NO,\n    last: last,\n    act: Status.ACT.NONE,\n    revealTime: 0\n  });\n};\n\nexport const canBeFinalised = () => {\n\n};\n\nexport const finaliseGame = async () => {\n  const accounts = await web3.eth.getAccounts();\n  await rockps.methods.finaliseGame().send({ from: accounts[0] });\n\n  const last = await rockps.methods.latestWinner().call();\n  return (last === Status.WINNER.NEUTRAL)\n    ? Status.WINNER.DRAW\n    : last;\n};\n\nexport const resetGame = async () => {\n  const accounts = await web3.eth.getAccounts();\n  await rockps.methods.resetGame().send({ from: accounts[0] });\n};","import * as ActionTypes from './actionTypes';\nimport { call, put, takeEvery, all } from 'redux-saga/effects';\nimport * as utils from '../web3/utils';\nimport * as Status from '../redux/status';\n\n/* --------------- FINALISE_GAME --------------- */\n\nfunction* watchFinaliseGame() {\n  yield takeEvery(ActionTypes.FINALISE_GAME_REQUEST, finaliseGame);\n};\n\nexport function* finaliseGame() {\n  try { \n    yield put({ \n      type: ActionTypes.UPDATE_STATUS_ACT, \n      payload: Status.ACT.FINAL\n    });\n    const last = yield call(utils.finaliseGame);\n    const status = utils.resetStatus(last);\n    yield put({ \n      type: ActionTypes.UPDATE_STATUS, \n      payload: status\n    });\n\n    const players = utils.resetPlayers();\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYERS, \n      payload: players\n    });\n\n  } catch (error) {\n    yield put({ type: ActionTypes.STATUS_FAILED, payload: error.message });\n  }\n}\n\n/* --------------- RESET_GAME --------------- */\n\nfunction* watchResetGame() {\n  yield takeEvery(ActionTypes.RESET_GAME_REQUEST, resetGame);\n};\n\nexport function* resetGame() {\n  try {\n    yield put({ \n      type: ActionTypes.UPDATE_STATUS_ACT, \n      payload: Status.ACT.RESET\n    });\n    yield call(utils.resetGame);\n    const status = utils.resetStatus(Status.WINNER.RESET);\n    yield put({ \n      type: ActionTypes.UPDATE_STATUS, \n      payload: status\n    });\n    const players = utils.resetPlayers();\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYERS, \n      payload: players\n    });  \n  } catch (error) {\n    yield put({ type: ActionTypes.STATUS_FAILED, payload: error.message });\n  }\n\n}\n\n/* --------------- REVEAL_COMMIT --------------- */\n\nfunction* watchRevealCommit() {\n  yield takeEvery(ActionTypes.REVEAL_COMMIT_REQUEST, revealCommit);\n}\n\nexport function* revealCommit(action) {\n  try {\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER_ACT, \n      payload: {\n        index: action.payload.index,\n        act: Status.ACT.SENDING\n      } \n    });\n    const revealTime = yield call(utils.revealCommit, action.payload);\n    const status = {\n      ...action.payload.player,\n      act: Status.ACT.SENT,\n      status2: Status.ST2.REVEALED\n    }\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER, \n      payload: {\n        index: action.payload.index,\n        status: status\n      } \n    });\n    yield put({\n      type: ActionTypes.UPDATE_STATUS_TIMER,\n      payload: revealTime\n    });\n    // Below not good -- check out how to update canBeFinalised\n    const canBeFinalised = utils.canBeFinalised();\n    yield put({\n      type: ActionTypes.UPDATE_STATUS_FINALISED,\n      payload: canBeFinalised\n    });\n    \n  } catch(error) {\n    // TODO: divide the above on update status + update players => use existing actions in case of failure\n    yield put({ type: ActionTypes.REVEAL_COMMIT_FAILED, payload: error.message });\n  }\n}\n\n/* --------------- SUBMIT_COMMIT --------------- */\n\nfunction* watchSubmitCommit() {\n  yield takeEvery(ActionTypes.SUBMIT_COMMIT_REQUEST, submitCommit);\n}\n\nexport function* submitCommit(action) {\n  try {\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER_ACT, \n      payload: {\n        index: action.payload.index,\n        act: Status.ACT.SENDING\n      } \n    });\n    const addr = yield call(utils.submitCommit, action.payload);\n    const status = {\n      ...action.payload.player,\n      addr: addr,\n      act: Status.ACT.SENT,\n      status1: Status.ST1.COMMITTED\n    }\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER, \n      payload: {\n        index: action.payload.index,\n        status: status\n      } \n    });\n    const index2 = (action.payload.index===0) ? 1 : 0;\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER_PL2, \n      payload: {\n        index: index2,\n        status: Status.ST1.COMMITTED\n      } \n    });\n    yield put({ type: ActionTypes.UPDATE_STATUS_COUNT });\n  } catch (error) {\n    yield put({ type: ActionTypes.PLAYERS_FAILED, payload: error.message });\n  }\n\n}\n\n/* --------------- FETCH_PLAYER --------------- */\n\nfunction* watchFetchPlayers() {\n  yield takeEvery(ActionTypes.FETCH_PLAYERS_REQUEST, fetchPlayers);\n};\n\nexport function* fetchPlayers() {\n  try {\n    const players = yield call(utils.fetchPlayers);\n    yield put({ type: ActionTypes.UPDATE_PLAYERS, payload: players });\n  } catch (error) {\n    yield put({ type: ActionTypes.PLAYERS_FAILED, payload: error.message });\n  }\n\n}\n\n/* --------------- FETCH_GAME --------------- */\n\nfunction* watchFetchGameStatus() {\n  yield takeEvery(ActionTypes.FETCH_STATUS_REQUEST, fetchGameStatus);\n};\n\nexport function* fetchGameStatus() {\n  try {    \n    const gameStatus = yield call(utils.fetchStatus);\n    yield put({ type: ActionTypes.UPDATE_STATUS, payload: gameStatus });\n  } catch (error) {\n    yield put({ type: ActionTypes.STATUS_FAILED, payload: error.message });\n  }\n\n}\n\n/* --------------- SAGA ADMIN --------------- */\n\nexport function* rootSaga() {\n  yield all([\n    watchFinaliseGame(),\n    watchResetGame(),\n    watchFetchPlayers(),\n    watchFetchGameStatus(),\n    watchSubmitCommit(),\n    watchRevealCommit()\n  ]);\n};","import * as ActionTypes from './actionTypes';\n\nexport const GameStatus = (state = {\n  gameIsLoading: true,\n  gameErrMsg: null,\n  status: null\n}, action) => {\n  switch(action.type) {\n\n    case ActionTypes.FETCH_STATUS_REQUEST:\n      return {...state,\n        gameIsLoading: true, \n        gameErrMsg: null,\n        status: null\n      };\n\n    case ActionTypes.UPDATE_STATUS:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: action.payload\n      };\n\n    case ActionTypes.STATUS_FAILED:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: action.payload,\n        status: null\n      };\n\n    case ActionTypes.UPDATE_STATUS_COUNT:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: {...state.status,\n          playerCount: state.status.playerCount+1}\n      };\n\n    case ActionTypes.UPDATE_STATUS_FINALISED:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: {...state.status,\n          canBeFinalised: action.payload}\n      };\n\n    case ActionTypes.UPDATE_STATUS_ACT:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: {...state.status,\n          act: action.payload}\n      };\n\n    case ActionTypes.UPDATE_STATUS_TIMER:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: {...state.status,\n          revealTime: action.payload}\n      };\n\n    default:\n      return state;\n  }\n}","import * as ActionTypes from './actionTypes';\n\nexport const Players = (state = {\n  playersIsLoading: true,\n  playersErrMsg: null,\n  players: []\n}, action) => {\n  switch(action.type) {\n\n    case ActionTypes.FETCH_PLAYERS_REQUEST:\n      return {...state,\n        playersIsLoading: true, \n        playersErrMsg: null,\n        players: []\n      };\n\n    case ActionTypes.PLAYERS_FAILED:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: action.payload,\n        players: []\n      };\n\n    case ActionTypes.UPDATE_PLAYERS:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: action.payload\n      };\n\n    case ActionTypes.UPDATE_PLAYER:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_ACT:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_ST1:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_ST2:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_ADDR:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_PL2:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst subPlayers = (state, action) => {\n  switch(action.type) {\n\n    case ActionTypes.UPDATE_PLAYER:\n      switch(action.payload.index) {\n        case 0:\n          return [action.payload.status, state[1]];\n        case 1:\n          return [state[0], action.payload.status];\n        default:\n          return state;\n      }\n\n    case ActionTypes.UPDATE_PLAYER_ACT:\n      switch(action.payload.index) {\n        case 0:\n          return [\n            {...state[0], act: action.payload.act }, \n            state[1] \n          ];\n        case 1:\n          return [ \n            state[0],\n            {...state[1], act: action.payload.act }, \n          ];\n        case 2:\n          return [ \n            {...state[0], act: action.payload.act },\n            {...state[1], act: action.payload.act }, \n          ];\n        default:\n          return state;\n      }\n    \n    case ActionTypes.UPDATE_PLAYER_ST1:\n      switch(action.payload.index) {\n        case 0:\n          return [\n            {...state[0], status1: action.payload.status1 }, \n            state[1] \n          ];\n        case 1:\n          return [ \n            state[0],\n            {...state[1], status1: action.payload.status1 }, \n          ];\n        default:\n          return state;\n      }\n  \n      case ActionTypes.UPDATE_PLAYER_ST2:\n        switch(action.payload.index) {\n          case 0:\n            return [\n              {...state[0], status2: action.payload.status2 }, \n              state[1] \n            ];\n          case 1:\n            return [ \n              state[0],\n              {...state[1], status2: action.payload.status2 }, \n            ];\n          default:\n            return state;\n        }\n  \n      case ActionTypes.UPDATE_PLAYER_ADDR:\n        switch(action.payload.index) {\n          case 0:\n            return [\n              {...state[0], addr: action.payload.addr }, \n              state[1] \n            ];\n          case 1:\n            return [ \n              state[0],\n              {...state[1], addr: action.payload.addr }, \n            ];\n          default:\n            return state;\n        }\n  \n      case ActionTypes.UPDATE_PLAYER_PL2:\n        switch(action.payload.index) {\n          case 0:\n            return [\n              {...state[0], pl2status1: action.payload.status }, \n              state[1] \n            ];\n          case 1:\n            return [ \n              state[0],\n              {...state[1], pl2status1: action.payload.status }, \n            ];\n          default:\n            return state;\n        }\n\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport { GameStatus } from './statusReducer';\nimport { Players } from './playersReducer';\n\nconst rootReducer = combineReducers({\n  gameStatus: GameStatus,\n  players: Players\n});\n\nexport default rootReducer;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Main from './components/MainComponent';\nimport { configureStore } from './redux/configureStore';\nimport { Provider } from 'react-redux';\nimport './App.css';\n\nconst store = configureStore();\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <div className=\"App\">\n          <Main />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n\nApp.propTypes = {\n  store: PropTypes.object,\n  history: PropTypes.object,\n  Main: PropTypes.element\n}","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { rootSaga } from './actionCreators';\nimport rootReducer from './rootReducer';\nimport logger from 'redux-logger';\n\nexport const configureStore = () => {\n\n  const sagaMiddleware = createSagaMiddleware();\n\n  const store = createStore(\n    rootReducer, \n    compose(\n      applyMiddleware(\n        logger,\n        sagaMiddleware )\n    )\n  );\n\n  sagaMiddleware.run(rootSaga);\n\n  return store;\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{143:function(e,t,a){e.exports=a(332)},148:function(e,t,a){},188:function(e,t){},190:function(e,t){},253:function(e,t){},254:function(e,t){},330:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(136),c=a.n(s),u=(a(148),a(150),a(30)),l=a(31),o=a(34),i=a(32),p=a(35),d=a(338),m=a(339),E=a(340),y=a(341),h=a(342),b=a(21),O=a(333),f=a(334),T=a(335),g=a(336),v=a(337),N=a(33),x="FINALISE_GAME_REQUEST",M="RESET_GAME_REQUEST",j="FETCH_PLAYERS_REQUEST",C="PLAYERS_FAILED",D="UPDATE_PLAYERS",A="UPDATE_PLAYER",I="UPDATE_PLAYER_ACT",w="UPDATE_PLAYER_PL2",L="FETCH_STATUS_REQUEST",R="STATUS_FAILED",_="UPDATE_STATUS",S="UPDATE_STATUS_COUNT",k="UPDATE_STATUS_FINALISED",P="UPDATE_STATUS_ACT",U="SUBMIT_COMMIT_REQUEST",V="REVEAL_COMMIT_REQUEST",G="REVEAL_COMMIT_FAILED",F={NOT_COMMITTED:"Has not picked his/her choice yet",COMMITTED:"Has sent his/her commitment"},Y={NOT_REVEALED:"Has not revealed his/her choice yet",REVEALED:"Has revealed his/her choice",PENDING:"Waiting for the other player..."},W={SENDING:"Sending transaction...",SENT:"Transaction sent!",NONE:"",RESET:"Resetting the game...",FINAL:"Finalising the game..."},B={NEUTRAL:"0x0000000000000000000000000000000000000000",RESET:"game reset",NOT_PLAYED:"game not played yet",DRAW:"draw"},H="N/A",Q=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(o.a)(this,Object(i.a)(t).call(this,e))).handleChangeChoice=function(e){0===a.props.index?a.setState({choices:[e.target.value,a.state.choices[1]]}):a.setState({choices:[a.state.choices[0],e.target.value]})},a.handleChangeNounce=function(e){0===a.props.index?a.setState({nounces:[e.target.value,a.state.nounces[1]]}):a.setState({nounces:[a.state.nounces[0],e.target.value]})},a.handleChoice=function(e){return a.state.choices[e]},a.handleNounce=function(e){return a.state.nounces[e]},a.handleSubmit=function(e){e.preventDefault(),"commit"===a.props.type?a.props.submitCommit(a.props.index,a.state.choices[a.props.index],a.state.nounces[a.props.index],a.props.player):a.props.revealCommit(a.props.index,a.state.choices[a.props.index],a.state.nounces[a.props.index],a.props.player),0===a.props.index?a.setState({nounces:["",a.state.nounces[1]]}):a.setState({nounces:[a.state.nounces[0],""]})},a.state={choices:[0,0],nounces:[0,0]},a.handleChangeChoice=a.handleChangeChoice.bind(Object(b.a)(Object(b.a)(a))),a.handleChangeNounce=a.handleChangeNounce.bind(Object(b.a)(Object(b.a)(a))),a.handleChoice=a.handleChoice.bind(Object(b.a)(Object(b.a)(a))),a.handleNounce=a.handleNounce.bind(Object(b.a)(Object(b.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(Object(b.a)(a))),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(f.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(T.a,null,r.a.createElement(g.a,{for:"choice"},"Pick a choice"),r.a.createElement(v.a,{type:"select",id:"choice",name:"choice",value:this.handleChoice(this.props.index),onChange:function(t){return e.handleChangeChoice(t)}},r.a.createElement("option",{value:"0"},"Rock"),r.a.createElement("option",{value:"1"},"Paper"),r.a.createElement("option",{value:"2"},"Scissor")),r.a.createElement(g.a,{for:"nounce"},"Pick a secret number"),r.a.createElement(v.a,{type:"text",id:"nounce",name:"nounce",value:this.handleNounce(this.props.index),onChange:function(t){return e.handleChangeNounce(t)},placeholder:"your secret number"})),r.a.createElement(function(){return e.props.player.act===W.SENDING?r.a.createElement(r.a.Fragment,null):r.a.createElement(O.a,null,"Commit")},null))}}]),t}(n.Component),J=Object(N.b)(null,function(e){return{submitCommit:function(t,a,n,r){return e({type:U,payload:{index:t,choice:a,nounce:n,player:r}})},revealCommit:function(t,a,n,r){return e({type:V,payload:{index:t,choice:a,nounce:n,player:r}})}}})(Q),q=function(e){return r.a.createElement(m.a,null,r.a.createElement(E.a,{tag:"h4"},e.name),r.a.createElement("div",null,r.a.createElement(E.a,{tag:"h6"},"Phase 1: Commit"),r.a.createElement(y.a,null,r.a.createElement(function(e){var t=e.index,a=e.player;return a.status1===F.NOT_COMMITTED?r.a.createElement(J,{index:t,type:"commit",player:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,a.status1),r.a.createElement(d.a,null,"Contract used: ",a.addr))},{index:e.index,player:e.player}))),r.a.createElement("div",null,r.a.createElement(E.a,{tag:"h6"},"Phase 2: Reveal"),r.a.createElement(y.a,null,r.a.createElement(function(e){var t=e.index,a=e.player;return a.status1===F.COMMITTED&&a.status2===Y.NOT_REVEALED&&a.pl2status1===F.COMMITTED?r.a.createElement(J,{index:t,type:"reveal",player:a}):a.pl2status1===F.NOT_COMMITTED?r.a.createElement(d.a,null,Y.PENDING):r.a.createElement(d.a,null,a.status2)},{index:e.index,player:e.player}))),r.a.createElement(h.a,{className:"text-muted"},r.a.createElement(function(e){var t=e.player;return t.act!==W.NONE?r.a.createElement("span",{className:"action"}," ",t.act," "):r.a.createElement(r.a.Fragment,null," ")},{player:e.player})))},K=a(343),$=a(140),z=new(a.n($).a)(window.web3.currentProvider),X="0x66b28635864496703b520d4a67c3f40a04720114",Z=new z.eth.Contract([{constant:!0,inputs:[],name:"latestWinner",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"reward",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"commit",type:"bytes32"}],name:"enterCommitment",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"gameCount",outputs:[{name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[],name:"finaliseGame",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getPlayers",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"choice",type:"uint256"},{name:"nounce",type:"uint256"}],name:"reveal",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getRevealed",outputs:[{name:"",type:"bool[2]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"choice",type:"uint256"},{name:"nounce",type:"uint256"}],name:"getKeccack0",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[],name:"resetGame",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getPlayerCount",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"candidate",type:"address"}],name:"notAlreadyIn",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"requiredValue",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}],X),ee=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).handleFinalSubmit=function(){return a.props.finaliseGame()},a.handleReset=function(){return a.props.resetGame()},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGameStatus()}},{key:"render",value:function(){var e=this,t=function(){return e.props.players[0].status2===Y.REVEALED&&e.props.players[1].status2===Y.REVEALED?r.a.createElement("p",{className:"lead"},r.a.createElement(O.a,{color:"primary",onClick:function(){return e.handleFinalSubmit()}},"Check winner")," "):r.a.createElement("div",null)},a=function(){return r.a.createElement("p",{className:"lead"},r.a.createElement(O.a,{color:"primary",onClick:function(){return e.handleReset()}},"Reset Game")," ")};return this.props.gameIsLoading?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",null,"Game status"),r.a.createElement("p",{className:"action"},"Loading game status...")),r.a.createElement("hr",{className:"my-2"})):this.props.gameErrMsg?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",null,"Game status"),r.a.createElement("p",{className:"action"},this.props.gameErrMsg),r.a.createElement("p",{className:"action"},"Reload this page to get latest status and try again...")),r.a.createElement("hr",{className:"my-2"})):this.props.playersErrMsg?r.a.createElement("div",null," ",r.a.createElement("p",{className:"action"},"Error...")," "):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h4",null,"Game status"),r.a.createElement("p",null,"Contract deployed on Rinkeby at: ",X),r.a.createElement("p",null,"Last game winner: ",this.props.status.last),r.a.createElement("p",null,"Currently ",this.props.status.playerCount," players have committed their choice."),r.a.createElement(function(){return e.props.playersIsLoading?r.a.createElement("p",{className:"action"},"Loading players status..."):e.props.status.act!==W.NONE?r.a.createElement("p",{className:"action"},e.props.status.act):r.a.createElement("div",null," ",r.a.createElement(t,null)," ",r.a.createElement(a,null)," ")},null)),r.a.createElement("hr",{className:"my-2"}))}}]),t}(n.Component),te=Object(N.b)(function(e){return{status:e.gameStatus.status,gameIsLoading:e.gameStatus.gameIsLoading,gameErrMsg:e.gameStatus.gameErrMsg,players:e.players.players,playersIsLoading:e.players.playersIsLoading,playersErrMsg:e.players.playersErrMsg}},function(e){return{finaliseGame:function(){return e({type:x})},resetGame:function(){return e({type:M})},fetchGameStatus:function(){return e({type:L})}}})(ee),ae=function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"display-3"},"Rock Paper Scissor"),r.a.createElement("hr",{className:"my-2"}))},ne=function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Instructions"),r.a.createElement("p",null,"Have Metamask installed (change account for each player)"),r.a.createElement("p",null,"1) Commit 2) Reveal 3) Finish"))},re=function(){return r.a.createElement(K.a,null,r.a.createElement(ae,null),r.a.createElement(te,null),r.a.createElement(ne,null))},se=function(){return r.a.createElement("div",{className:"col-12"},r.a.createElement("span",{className:"fa fa-spinner fa-pulse fa-3x fa-fw text-primary"}),r.a.createElement("p",{className:"action"},"Loading . . ."))},ce=function(e){function t(){return Object(u.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPlayers()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(re,null),r.a.createElement(function(){return e.props.playersIsLoading?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement(se,null))):e.props.playersErrMsg?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h4",{className:"action"},e.props.playersErrMsg),r.a.createElement("p",null,"Refresh this page to load latest game status from Rinkeby and try again"))):r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-10 col-md-5 m-auto"},r.a.createElement(q,{name:"Alice",index:0,player:e.props.players[0]})),r.a.createElement("div",{className:"col-10 col-md-5 m-auto"},r.a.createElement(q,{name:"Bob",index:1,player:e.props.players[1]})))},null))}}]),t}(n.Component),ue=Object(N.b)(function(e){return{players:e.players.players,playersIsLoading:e.players.playersIsLoading,playersErrMsg:e.players.playersErrMsg}},function(e){return{fetchPlayers:function(){return e({type:j})}}})(ce),le=a(27),oe=a(142),ie=a(9),pe=a(6),de=a.n(pe),me=a(10),Ee=a(40),ye=function(){var e=Object(Ee.a)(de.a.mark(function e(){var t,a,n,r;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=parseInt,e.next=3,Z.methods.getPlayerCount().call();case 3:return e.t1=e.sent,t=(0,e.t0)(e.t1),e.next=7,Z.methods.getPlayers().call();case 7:a=e.sent,n=[],e.t2=t,e.next=0===e.t2?12:1===e.t2?15:2===e.t2?18:23;break;case 12:return n.push({addr:H,status1:F.NOT_COMMITTED,pl2status1:F.NOT_COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE}),n.push({addr:H,status1:F.NOT_COMMITTED,pl2status1:F.NOT_COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE}),e.abrupt("break",23);case 15:return n.push({addr:a[0],status1:F.COMMITTED,pl2status1:F.NOT_COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE}),n.push({addr:H,status1:F.NOT_COMMITTED,pl2status1:F.COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE}),e.abrupt("break",23);case 18:return e.next=20,Z.methods.getRevealed().call();case 20:return(r=e.sent)[0]&&r[1]?(n.push({addr:a[0],status1:F.COMMITTED,pl2status1:F.COMMITTED,status2:Y.REVEALED,act:W.NONE}),n.push({addr:a[1],status1:F.COMMITTED,pl2status1:F.COMMITTED,status2:Y.REVEALED,act:W.NONE})):r[0]||r[1]?r[0]?(n.push({addr:a[0],status1:F.COMMITTED,pl2status1:F.COMMITTED,status2:Y.REVEALED,act:W.NONE}),n.push({addr:a[1],status1:F.COMMITTED,pl2status1:F.COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE})):(n.push({addr:a[0],status1:F.COMMITTED,pl2status1:F.COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE}),n.push({addr:a[1],status1:F.COMMITTED,pl2status1:F.COMMITTED,status2:Y.REVEALED,act:W.NONE})):(n.push({addr:a[0],status1:F.COMMITTED,pl2status1:F.COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE}),n.push({addr:a[1],status1:F.COMMITTED,pl2status1:F.COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE})),e.abrupt("break",23);case 23:return e.abrupt("return",n);case 25:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(Ee.a)(de.a.mark(function e(t){var a,n,r,s;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.eth.getAccounts();case 2:return a=e.sent,n=t.choice,r=t.nounce,s=z.utils.soliditySha3(n,r),console.log("choice: ",n," nounce: ",r),e.next=9,Z.methods.enterCommitment(s).send({from:a[0],value:1e3});case 9:return e.abrupt("return",a[0]);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=Object(Ee.a)(de.a.mark(function e(t){var a,n,r;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.eth.getAccounts();case 2:return a=e.sent,n=t.choice,r=t.nounce,e.next=7,Z.methods.reveal(n,r).send({from:a[0]});case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(Ee.a)(de.a.mark(function e(){var t,a,n,r,s,c;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.methods.latestWinner().call();case 2:return t=e.sent,e.t0=parseInt,e.next=6,Z.methods.gameCount().call();case 6:return e.t1=e.sent,a=(0,e.t0)(e.t1),n=B.NOT_PLAYED,0!==a&&(n=t===B.NEUTRAL?B.DRAW:t),e.t2=parseInt,e.next=14,Z.methods.getPlayerCount().call();case 14:return e.t3=e.sent,r=(0,e.t2)(e.t3),s=!1,e.next=19,Z.methods.getPlayers().call();case 19:if(2!==e.sent.length){e.next=25;break}return e.next=23,Z.methods.getRevealed().call();case 23:(c=e.sent)[0]&&c[1]&&(s=!0);case 25:return e.abrupt("return",{canBeFinalised:s,playerCount:r,last:n,act:W.NONE});case 26:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),fe=function(){return[{addr:H,status1:F.NOT_COMMITTED,pl2status1:F.NOT_COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE},{addr:H,status1:F.NOT_COMMITTED,pl2status1:F.NOT_COMMITTED,status2:Y.NOT_REVEALED,act:W.NONE}]},Te=function(e){return{playerCount:0,canBeFinalised:"No",last:e,act:W.NONE}},ge=function(){},ve=function(){var e=Object(Ee.a)(de.a.mark(function e(){var t,a;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.eth.getAccounts();case 2:return t=e.sent,e.next=5,Z.methods.finaliseGame().send({from:t[0]});case 5:return e.next=7,Z.methods.latestWinner().call();case 7:return a=e.sent,e.abrupt("return",a===B.NEUTRAL?B.DRAW:a);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(Ee.a)(de.a.mark(function e(){var t;return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.eth.getAccounts();case 2:return t=e.sent,e.next=5,Z.methods.resetGame().send({from:t[0]});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),xe=de.a.mark(Pe),Me=de.a.mark(Ue),je=de.a.mark(Ve),Ce=de.a.mark(Ge),De=de.a.mark(Fe),Ae=de.a.mark(Ye),Ie=de.a.mark(We),we=de.a.mark(Be),Le=de.a.mark(He),Re=de.a.mark(Qe),_e=de.a.mark(Je),Se=de.a.mark(qe),ke=de.a.mark(Ke);function Pe(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.d)(x,Ue);case 2:case"end":return e.stop()}},xe,this)}function Ue(){var e,t,a;return de.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(me.c)({type:P,payload:W.FINAL});case 3:return n.next=5,Object(me.b)(ve);case 5:return e=n.sent,t=Te(e),n.next=9,Object(me.c)({type:_,payload:t});case 9:return a=fe(),n.next=12,Object(me.c)({type:D,payload:a});case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(0),n.next=18,Object(me.c)({type:R,payload:n.t0.message});case 18:case"end":return n.stop()}},Me,this,[[0,14]])}function Ve(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.d)(M,Ge);case 2:case"end":return e.stop()}},je,this)}function Ge(){var e,t;return de.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(me.c)({type:P,payload:W.RESET});case 3:return a.next=5,Object(me.b)(Ne);case 5:return e=Te(B.RESET),a.next=8,Object(me.c)({type:_,payload:e});case 8:return t=fe(),a.next=11,Object(me.c)({type:D,payload:t});case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(me.c)({type:R,payload:a.t0.message});case 17:case"end":return a.stop()}},Ce,this,[[0,13]])}function Fe(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.d)(V,Ye);case 2:case"end":return e.stop()}},De,this)}function Ye(e){var t,a;return de.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(me.c)({type:I,payload:{index:e.payload.index,act:W.SENDING}});case 3:return n.next=5,Object(me.b)(be,e.payload);case 5:return t=Object(ie.a)({},e.payload.player,{act:W.SENT,status2:Y.REVEALED}),n.next=8,Object(me.c)({type:A,payload:{index:e.payload.index,status:t}});case 8:return a=ge(),n.next=11,Object(me.c)({type:k,payload:a});case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(0),n.next=17,Object(me.c)({type:G,payload:n.t0.message});case 17:case"end":return n.stop()}},Ae,this,[[0,13]])}function We(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.d)(U,Be);case 2:case"end":return e.stop()}},Ie,this)}function Be(e){var t,a,n;return de.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(me.c)({type:I,payload:{index:e.payload.index,act:W.SENDING}});case 3:return r.next=5,Object(me.b)(he,e.payload);case 5:return t=r.sent,a=Object(ie.a)({},e.payload.player,{addr:t,act:W.SENT,status1:F.COMMITTED}),r.next=9,Object(me.c)({type:A,payload:{index:e.payload.index,status:a}});case 9:return n=0===e.payload.index?1:0,r.next=12,Object(me.c)({type:w,payload:{index:n,status:F.COMMITTED}});case 12:return r.next=14,Object(me.c)({type:S});case 14:r.next=20;break;case 16:return r.prev=16,r.t0=r.catch(0),r.next=20,Object(me.c)({type:C,payload:r.t0.message});case 20:case"end":return r.stop()}},we,this,[[0,16]])}function He(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.d)(j,Qe);case 2:case"end":return e.stop()}},Le,this)}function Qe(){var e;return de.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(me.b)(ye);case 3:return e=t.sent,t.next=6,Object(me.c)({type:D,payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(me.c)({type:C,payload:t.t0.message});case 12:case"end":return t.stop()}},Re,this,[[0,8]])}function Je(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.d)(L,qe);case 2:case"end":return e.stop()}},_e,this)}function qe(){var e;return de.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(me.b)(Oe);case 3:return e=t.sent,t.next=6,Object(me.c)({type:_,payload:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(me.c)({type:R,payload:t.t0.message});case 12:case"end":return t.stop()}},Se,this,[[0,8]])}function Ke(){return de.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.a)([Pe(),Ve(),He(),Je(),We(),Fe()]);case 2:case"end":return e.stop()}},ke,this)}var $e=function(e,t){switch(t.type){case A:switch(t.payload.index){case 0:return[t.payload.status,e[1]];case 1:return[e[0],t.payload.status];default:return e}case I:switch(t.payload.index){case 0:return[Object(ie.a)({},e[0],{act:t.payload.act}),e[1]];case 1:return[e[0],Object(ie.a)({},e[1],{act:t.payload.act})];case 2:return[Object(ie.a)({},e[0],{act:t.payload.act}),Object(ie.a)({},e[1],{act:t.payload.act})];default:return e}case"UPDATE_PLAYER_ST1":switch(t.payload.index){case 0:return[Object(ie.a)({},e[0],{status1:t.payload.status1}),e[1]];case 1:return[e[0],Object(ie.a)({},e[1],{status1:t.payload.status1})];default:return e}case"UPDATE_PLAYER_ST2":switch(t.payload.index){case 0:return[Object(ie.a)({},e[0],{status2:t.payload.status2}),e[1]];case 1:return[e[0],Object(ie.a)({},e[1],{status2:t.payload.status2})];default:return e}case"UPDATE_PLAYER_ADDR":switch(t.payload.index){case 0:return[Object(ie.a)({},e[0],{addr:t.payload.addr}),e[1]];case 1:return[e[0],Object(ie.a)({},e[1],{addr:t.payload.addr})];default:return e}case w:switch(t.payload.index){case 0:return[Object(ie.a)({},e[0],{pl2status1:t.payload.status}),e[1]];case 1:return[e[0],Object(ie.a)({},e[1],{pl2status1:t.payload.status})];default:return e}default:return e}},ze=Object(le.c)({gameStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gameIsLoading:!0,gameErrMsg:null,status:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(ie.a)({},e,{gameIsLoading:!0,gameErrMsg:null,status:null});case _:return Object(ie.a)({},e,{gameIsLoading:!1,gameErrMsg:null,status:t.payload});case R:return Object(ie.a)({},e,{gameIsLoading:!1,gameErrMsg:t.payload,status:null});case S:return Object(ie.a)({},e,{gameIsLoading:!1,gameErrMsg:null,status:Object(ie.a)({},e.status,{playerCount:e.status.playerCount+1})});case k:return Object(ie.a)({},e,{gameIsLoading:!1,gameErrMsg:null,status:Object(ie.a)({},e.status,{canBeFinalised:t.payload})});case P:return Object(ie.a)({},e,{gameIsLoading:!1,gameErrMsg:null,status:Object(ie.a)({},e.status,{act:t.payload})});default:return e}},players:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{playersIsLoading:!0,playersErrMsg:null,players:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(ie.a)({},e,{playersIsLoading:!0,playersErrMsg:null,players:[]});case C:return Object(ie.a)({},e,{playersIsLoading:!1,playersErrMsg:t.payload,players:[]});case D:return Object(ie.a)({},e,{playersIsLoading:!1,playersErrMsg:null,players:t.payload});case A:case I:case"UPDATE_PLAYER_ST1":case"UPDATE_PLAYER_ST2":case"UPDATE_PLAYER_ADDR":case w:return Object(ie.a)({},e,{playersIsLoading:!1,playersErrMsg:null,players:$e(e.players,t)});default:return e}}}),Xe=a(141),Ze=a.n(Xe),et=(a(330),function(){var e=Object(oe.a)(),t=Object(le.e)(ze,Object(le.d)(Object(le.a)(Ze.a,e)));return e.run(Ke),t}()),tt=function(e){function t(){return Object(u.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(N.a,{store:et},r.a.createElement("div",{className:"App"},r.a.createElement(ue,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(tt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[143,2,1]]]);
//# sourceMappingURL=main.738e3b03.chunk.js.map
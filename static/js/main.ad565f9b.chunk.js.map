{"version":3,"sources":["redux/actionTypes.js","redux/status.js","components/PlayerFormComponent.js","components/PlayerComponent.js","components/GameStatusComponent.js","components/HeaderComponent.js","components/LoadingComponent.js","components/MainComponent.js","web3/web3.js","contracts/rockps.js","web3/utils.js","redux/actionCreators.js","redux/statusReducer.js","redux/playersReducer.js","redux/rootReducer.js","App.js","redux/configureStore.js","serviceWorker.js","index.js"],"names":["FINALISE_GAME_REQUEST","RESET_GAME_REQUEST","FETCH_PLAYERS_REQUEST","PLAYERS_FAILED","UPDATE_PLAYERS","UPDATE_PLAYER","UPDATE_PLAYER_ACT","UPDATE_PLAYER_PL2","FETCH_STATUS_REQUEST","STATUS_FAILED","UPDATE_STATUS","UPDATE_STATUS_COUNT","UPDATE_STATUS_FINALISED","UPDATE_STATUS_ACT","SUBMIT_COMMIT_REQUEST","REVEAL_COMMIT_REQUEST","REVEAL_COMMIT_FAILED","ST1","NOT_COMMITTED","COMMITTED","ST2","NOT_REVEALED","REVEALED","PENDING","ACT","SENDING","SENT","NONE","RESET","FINAL","WINNER","NEUTRAL","NOT_PLAYED","DRAW","NA","PlayerForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChangeChoice","event","index","setState","choices","target","value","state","handleChangeNounce","nounces","handleChoice","handleNounce","handleSubmit","preventDefault","type","submitCommit","player","revealCommit","bind","assertThisInitialized","_this2","react_default","a","createElement","Form","onSubmit","FormGroup","Label","for","Input","id","name","onChange","placeholder","act","Status","Fragment","Button","Component","connect","dispatch","choice","nounce","ActionTypes","payload","Player","Card","CardHeader","tag","CardBody","_ref2","status1","PlayerFormComponent","CardText","addr","_ref3","status2","pl2status1","CardFooter","className","_ref","GameStatus","handleFinalSubmit","finaliseGame","handleReset","resetGame","fetchGameStatus","Finalise","players","color","onClick","Reset","gameIsLoading","gameErrMsg","playersErrMsg","status","last","playerCount","playersIsLoading","gameStatus","Intro","Instructions","Header","Jumbotron","HeaderComponent_Intro","GameStatusComponent","HeaderComponent_Instructions","Loading","Main","fetchPlayers","HeaderComponent","LoadingComponent_Loading","PlayerComponent","web3","Web3","window","currentProvider","rockps","eth","Contract","constant","inputs","outputs","payable","stateMutability","asyncToGenerator","regenerator_default","mark","_callee","playerAddr","hasRevealed","wrap","_context","prev","next","t0","parseInt","methods","getPlayerCount","t1","sent","getPlayers","t2","push","abrupt","getRevealed","stop","apply","arguments","_callee2","accounts","commit","_context2","getAccounts","utils","soliditySha3","console","log","enterCommitment","send","from","_x","_callee3","_context3","reveal","_x2","fetchStatus","_ref4","_callee4","getLastest","gameCount","canBeFinalised","_context4","latestWinner","t3","length","resetPlayers","resetStatus","_ref5","_callee5","_context5","_ref6","_callee6","_context6","watchFinaliseGame","watchResetGame","watchRevealCommit","watchSubmitCommit","watchFetchPlayers","watchFetchGameStatus","rootSaga","takeEvery","_marked","put","message","_marked2","_marked3","_marked4","_marked5","action","objectSpread","_marked6","_context7","_marked7","index2","_context8","_marked8","_context9","_marked9","_context10","_marked10","_context11","_marked11","_context12","_marked12","_context13","all","_marked13","subPlayers","rootReducer","combineReducers","undefined","store","sagaMiddleware","createSagaMiddleware","createStore","compose","applyMiddleware","logger","run","configureStore","App","es","MainComponent","Boolean","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ad565f9b.chunk.js","sourcesContent":["export const FINALISE_GAME_REQUEST = 'FINALISE_GAME_REQUEST';\nexport const FINALISE_GAME_SUCCESS = 'FINALISE_GAME_SUCCESS';\nexport const FINALISE_GAME_FAILED = 'FINALISE_GAME_FAILED';\n\nexport const RESET_GAME_REQUEST = 'RESET_GAME_REQUEST';\nexport const RESET_GAME_SUCCESS = 'RESET_GAME_SUCCESS';\nexport const RESET_GAME_FAILED = 'RESET_GAME_FAILED';\n\nexport const FETCH_PLAYERS_REQUEST = 'FETCH_PLAYERS_REQUEST';\nexport const PLAYERS_FAILED = 'PLAYERS_FAILED';\nexport const UPDATE_PLAYERS = 'UPDATE_PLAYERS';\nexport const UPDATE_PLAYER = 'UPDATE_PLAYER';\nexport const UPDATE_PLAYER_ACT = 'UPDATE_PLAYER_ACT';\nexport const UPDATE_PLAYER_ST1 = 'UPDATE_PLAYER_ST1';\nexport const UPDATE_PLAYER_ST2 = 'UPDATE_PLAYER_ST2';\nexport const UPDATE_PLAYER_ADDR = 'UPDATE_PLAYER_ADDR';\nexport const UPDATE_PLAYER_PL2 = 'UPDATE_PLAYER_PL2';\n\nexport const FETCH_STATUS_REQUEST = 'FETCH_STATUS_REQUEST';\nexport const STATUS_FAILED = 'STATUS_FAILED';\nexport const UPDATE_STATUS = 'UPDATE_STATUS';\nexport const UPDATE_STATUS_COUNT = 'UPDATE_STATUS_COUNT';\nexport const UPDATE_STATUS_FINALISED = 'UPDATE_STATUS_FINALISED';\nexport const UPDATE_STATUS_ACT = 'UPDATE_STATUS_ACT';\n\nexport const SUBMIT_COMMIT_REQUEST = 'SUBMIT_COMMIT_REQUEST';\nexport const SUBMIT_COMMIT_SUCCESS = 'SUBMIT_COMMIT_SUCCESS';\nexport const SUBMIT_COMMIT_FAILED = 'SUBMIT_COMMIT_FAILED';\n\nexport const REVEAL_COMMIT_REQUEST = 'REVEAL_COMMIT_REQUEST';\nexport const REVEAL_COMMIT_SUCCESS = 'REVEAL_COMMIT_SUCCESS';\nexport const REVEAL_COMMIT_FAILED = 'REVEAL_COMMIT_FAILED';","export const LOADING = '...loading';\n\nexport const ST1 = {\n  NOT_COMMITTED: 'Has not picked his/her choice yet',\n  COMMITTED: 'Has sent his/her commitment',\n};\n\nexport const ST2 = {\n  NOT_REVEALED: 'Has not revealed his/her choice yet',\n  REVEALED: 'Has revealed his/her choice',\n  PENDING: 'Waiting for the other player...',\n};\n\nexport const ACT = {\n  SENDING: 'Sending transaction...',\n  SENT: 'Transaction sent!',\n  NONE: '',\n  RESET: 'Resetting the game...',\n  FINAL: 'Finalising the game...'\n};\n\nexport const WINNER = {\n  NEUTRAL: '0x0000000000000000000000000000000000000000',\n  RESET: 'game reset',\n  NOT_PLAYED: 'game not played yet',\n  DRAW: 'draw'\n}\n\nexport const YES = 'Yes';\nexport const NO = 'No';\nexport const NA = 'N/A';\n\nexport const BOTH = 2;","import React, { Component } from 'react';\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\nimport { connect } from 'react-redux';\nimport * as ActionTypes from '../redux/actionTypes';\nimport * as Status from '../redux/status';\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    submitCommit: (index, choice, nounce, player) => dispatch({ \n      type: ActionTypes.SUBMIT_COMMIT_REQUEST, \n      payload: {\n        index: index,\n        choice: choice,\n        nounce: nounce,\n        player: player\n      }}),\n    revealCommit: (index, choice, nounce, player) => dispatch({ \n      type: ActionTypes.REVEAL_COMMIT_REQUEST, \n      payload: {\n        index: index,\n        choice: choice,\n        nounce: nounce,\n        player: player\n      }})\n  };\n};\n\nclass PlayerForm extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      choices: [0, 0],\n      nounces: [0, 0]\n    };\n\n    this.handleChangeChoice = this.handleChangeChoice.bind(this);\n    this.handleChangeNounce = this.handleChangeNounce.bind(this);\n    this.handleChoice = this.handleChoice.bind(this);\n    this.handleNounce = this.handleNounce.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  };\n\n  handleChangeChoice = (event) => {\n    (this.props.index === 0) \n      ? this.setState({ choices: [event.target.value, this.state.choices[1]] })\n      : this.setState({ choices: [this.state.choices[0], event.target.value] });\n  };\n\n  handleChangeNounce = (event) => { \n    (this.props.index === 0) \n      ? this.setState({ nounces: [event.target.value, this.state.nounces[1]] })\n      : this.setState({ nounces: [this.state.nounces[0], event.target.value] });\n  };\n\n  handleChoice = (index) => { return this.state.choices[index]; };\n  handleNounce = (index) => { return this.state.nounces[index]; };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    (this.props.type === 'commit')\n      ? this.props.submitCommit(\n        this.props.index,\n        this.state.choices[this.props.index],\n        this.state.nounces[this.props.index],\n        this.props.player)\n      : this.props.revealCommit(\n        this.props.index,\n        this.state.choices[this.props.index],\n        this.state.nounces[this.props.index],\n        this.props.player);\n\n    (this.props.index === 0) \n      ? this.setState({ nounces: ['', this.state.nounces[1]] })\n      : this.setState({ nounces: [this.state.nounces[0], ''] });\n  };\n\n  render() {\n\n    const Commit = () => {\n      if(this.props.player.act === Status.ACT.SENDING) {\n        return (<></>);\n      }\n      else {\n        return ( <Button>Commit</Button> );\n      }\n    }\n\n    return(\n      <Form onSubmit={(event) => this.handleSubmit(event)}>\n        <FormGroup>\n          <Label for=\"choice\">Pick a choice</Label>\n          <Input type=\"select\" id=\"choice\" name=\"choice\" \n          value={this.handleChoice(this.props.index)} \n          onChange={(event) => this.handleChangeChoice(event)}>\n            <option value=\"0\">Rock</option>\n            <option value=\"1\">Paper</option>\n            <option value=\"2\">Scissor</option>\n          </Input>\n          <Label for=\"nounce\">Pick a secret number</Label>\n          <Input type=\"text\" id=\"nounce\" name=\"nounce\" \n          value={this.handleNounce(this.props.index)} \n          onChange={(event) => this.handleChangeNounce(event)}\n          placeholder=\"your secret number\">\n          </Input>\n        </FormGroup>\n        <Commit />\n      </Form>\n    );\n  }\n\n}\n\nexport default connect(null, mapDispatchToProps)(PlayerForm);","import React from 'react';\nimport { Card, CardHeader, CardBody, CardText, CardFooter } from 'reactstrap';\nimport PlayerForm from './PlayerFormComponent';\nimport * as Status from '../redux/status';\n\nconst Player = (props) => {\n    \n  const ShowAction = ({ player }) => {\n    if (player.act !== Status.ACT.NONE ) {\n        return (<span className=\"action\"> {player.act} </span>);\n      }\n    else { return (<> </>); }\n  };\n\n  const Commit = ({ index, player }) => {\n    if (player.status1 === Status.ST1.NOT_COMMITTED) {\n      return ( \n        <PlayerForm \n          index={index} \n          type={'commit'}\n          player={player}/> \n      );\n    }\n    else {\n      return (\n        <>\n          <CardText>{player.status1}</CardText> \n          <CardText>Contract used: {player.addr}</CardText>\n        </>\n      );\n    }\n  }\n\n  const Reveal = ({ index, player }) => {\n    if ( player.status1 === Status.ST1.COMMITTED\n    && player.status2 === Status.ST2.NOT_REVEALED\n    && player.pl2status1 === Status.ST1.COMMITTED) {\n      return (\n        <PlayerForm \n          index={index} \n          type={'reveal'}\n          player={player}/> \n      );\n    }\n    else if (player.pl2status1 === Status.ST1.NOT_COMMITTED) {\n      return (\n        <CardText>{Status.ST2.PENDING}</CardText> \n      );\n    }\n    else {\n      return (\n        <CardText>{player.status2}</CardText> \n      );\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader tag=\"h4\">{props.name}</CardHeader>\n      <div>\n        <CardHeader tag=\"h6\">Phase 1: Commit</CardHeader>\n        <CardBody>\n          <Commit \n            index={props.index} \n            player={props.player} />\n        </CardBody>\n      </div>\n      <div>\n        <CardHeader tag=\"h6\">Phase 2: Reveal</CardHeader>\n        <CardBody>\n          <Reveal\n            index={props.index} \n            player={props.player} />\n        </CardBody>\n      </div>\n      <CardFooter className=\"text-muted\">\n        <ShowAction player={props.player} />\n      </CardFooter>\n    </Card>\n  );\n\n};\n\nexport default Player;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as ActionTypes from '../redux/actionTypes';\nimport * as Status from '../redux/status';\nimport { Button } from 'reactstrap';\n\nconst mapStateToProps = state => {\n  return {\n    status: state.gameStatus.status,\n    gameIsLoading: state.gameStatus.gameIsLoading,\n    gameErrMsg: state.gameStatus.gameErrMsg,\n    players: state.players.players,\n    playersIsLoading: state.players.playersIsLoading,\n    playersErrMsg: state.players.playersErrMsg\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    finaliseGame: () => dispatch({ type: ActionTypes.FINALISE_GAME_REQUEST }),\n    resetGame: () => dispatch({ type: ActionTypes.RESET_GAME_REQUEST }),\n    fetchGameStatus: () => dispatch({ type: ActionTypes.FETCH_STATUS_REQUEST })\n  };\n};\n\nclass GameStatus extends Component {\n\n  componentDidMount() { this.props.fetchGameStatus(); }\n  handleFinalSubmit = () => this.props.finaliseGame();\n  handleReset = () => this.props.resetGame();\n\n  render() {\n\n    const Finalise = () => {\n      if (this.props.players[0].status2 === Status.ST2.REVEALED\n        && this.props.players[1].status2 === Status.ST2.REVEALED) {\n        return (\n          <p className=\"lead\">\n            <Button color=\"primary\" onClick={() => this.handleFinalSubmit()}>Check winner</Button> </p>\n        );\n      }\n      else { return( <div /> )}\n    };\n\n    const Reset = () => {\n      return (\n        <p className=\"lead\">\n          <Button color=\"primary\" onClick={() => this.handleReset()}>Reset Game</Button> </p>\n      );\n    };\n\n    const Controls = () => {\n      if (this.props.playersIsLoading) {\n        return ( <p className=\"action\">Loading players status...</p> );\n      }\n      else if (this.props.status.act !== Status.ACT.NONE) {\n        return( <p className=\"action\">{this.props.status.act}</p> );\n      }\n      else {\n        return ( <div> <Finalise /> <Reset /> </div> );\n      }\n    }\n    \n    if (this.props.gameIsLoading) {\n      return (\n        <div>\n          <div>\n            <h4>Game status</h4>\n            <p className=\"action\">Loading game status...</p>\n          </div>\n          <hr className=\"my-2\" />\n        </div>\n      );\n    }\n    \n    else if (this.props.gameErrMsg) {\n      return (\n        <div>\n          <div>\n            <h4>Game status</h4>\n            <p className=\"action\">{this.props.gameErrMsg}</p>\n            <p className=\"action\">Reload this page to get latest status and try again...</p>\n          </div>\n          <hr className=\"my-2\" />\n        </div>\n      );\n    }\n    \n    else if (this.props.playersErrMsg) {\n      return ( <div> <p className=\"action\">Error...</p> </div> );\n    }\n\n    else {\n      return(\n        <div>\n          <div>\n            <h4>Game status</h4>\n            <p>Last game winner: {this.props.status.last}</p>\n            <p>Currently {this.props.status.playerCount} players have committed their choice.</p>\n            <Controls />\n          </div>\n          <hr className=\"my-2\" />\n        </div>\n      );\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(GameStatus);","import React from 'react';\nimport { Jumbotron } from 'reactstrap';\nimport GameStatus from './GameStatusComponent';\n\nconst Header = () => {\n  return(\n    <Jumbotron>\n      <Intro />\n      <GameStatus />\n      <Instructions />\n    </Jumbotron>\n  );\n}\n\nconst Intro = () => {\n  return (\n    <div>\n      <div>\n        <h1 className=\"display-3\">Rock Paper Scissor</h1>\n        <p className=\"lead\">This is a simple rock paper scissor game that uses Ethereum's Rinkeby network. You should have metamask installed and configured on Rinkeby.</p>\n      </div>\n      <hr className=\"my-2\" />\n    </div>\n  );\n}\n\nconst Instructions = () => {\n  return (\n    <div>\n      <h4>Instructions</h4>\n      <p>Choose for both Alice and Bob (one after the other) what they should play.</p>\n      <p>When the 2 players have sent their choice (button 'Send choice'), you can finalise the game (button 'Check winner' will appear).</p>\n    </div>\n  );\n}\n\nexport default Header;","import React from 'react';\n\nexport const Loading = () => {\n  return (\n    <div className=\"col-12\">\n      <span className=\"fa fa-spinner fa-pulse fa-3x fa-fw text-primary\">\n      </span>\n      <p className=\"action\">Loading . . .</p>\n    </div>\n  );\n};","import React, { Component } from 'react';\nimport Player from './PlayerComponent.js';\nimport Header from './HeaderComponent';\nimport * as ActionTypes from '../redux/actionTypes';\nimport { connect } from 'react-redux';\nimport { Loading } from './LoadingComponent';\n\nconst mapStateToProps = state => {\n  return { \n    players: state.players.players,\n    playersIsLoading: state.players.playersIsLoading,\n    playersErrMsg: state.players.playersErrMsg \n  };\n}\n\nconst mapDispactchToProps = dispatch => {\n  return {\n    fetchPlayers: () => dispatch({ type: ActionTypes.FETCH_PLAYERS_REQUEST })\n  };\n}\n\nclass Main extends Component {\n\n  componentDidMount() {\n    this.props.fetchPlayers();\n  }\n\n  render() {\n\n    const Players = () => {\n\n      if (this.props.playersIsLoading) {\n        return (\n          <div className=\"container\">\n            <div className=\"row\">\n              <Loading />\n            </div>\n          </div>\n        );\n      }\n    \n      else if (this.props.playersErrMsg) {\n        return (\n          <div className=\"container\">\n            <div className=\"row\">\n              <h4 className=\"action\">{this.props.playersErrMsg}</h4>\n              <p>Refresh this page to load latest game status from Rinkeby and try again</p>\n            </div>\n          </div>\n        );\n      }\n\n      else {\n        return (\n          <div className=\"row justify-content-center\">\n            <div className=\"col-10 col-md-5 m-auto\">\n              <Player name='Alice' index={0} player={this.props.players[0]} />\n            </div>\n            <div className=\"col-10 col-md-5 m-auto\">\n              <Player name='Bob' index={1} player={this.props.players[1]} />\n            </div>\n          </div>\n        );\n      }\n    }\n\n    return (\n      <div className=\"container\">\n        <Header />\n        <Players />\n      </div>\n    );\n  }\n}\n\nexport default connect(mapStateToProps, mapDispactchToProps)(Main);\n","// configuration of web3\nimport Web3 from 'web3';\n\n// hijacking the provider from metamask instance of web3\n// this provider has been configured to access the Rinkeby network but also has access to my accounts\nconst web3 = new Web3(window.web3.currentProvider);\n\nexport default web3;","import web3 from '../web3/web3';\n\nexport const rockpsAddress = '0x66b28635864496703b520d4a67c3f40a04720114';\nexport const rockpsInterface = [\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"latestWinner\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"reward\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"commit\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"enterCommitment\",\n\t\t\"outputs\": [],\n\t\t\"payable\": true,\n\t\t\"stateMutability\": \"payable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"gameCount\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [],\n\t\t\"name\": \"finaliseGame\",\n\t\t\"outputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"getPlayers\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address[]\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"choice\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"nounce\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"reveal\",\n\t\t\"outputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"getRevealed\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool[2]\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"choice\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"name\": \"nounce\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getKeccack0\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"pure\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": false,\n\t\t\"inputs\": [],\n\t\t\"name\": \"resetGame\",\n\t\t\"outputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"getPlayerCount\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"candidate\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"notAlreadyIn\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"constant\": true,\n\t\t\"inputs\": [],\n\t\t\"name\": \"requiredValue\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"payable\": false,\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"constructor\"\n\t}\n];\n\nexport default new web3.eth.Contract(rockpsInterface, rockpsAddress);","import rockps from '../contracts/rockps';\nimport web3 from './web3';\nimport * as Status from '../redux/status';\n\nexport const fetchPlayers = async () => {\n  const playerCount = parseInt(await rockps.methods.getPlayerCount().call());\n  const playerAddr = await rockps.methods.getPlayers().call();\n\n  const players = [];\n  switch(playerCount) {\n    case 0:\n      players.push({ \n        addr: Status.NA, // player's address\n        status1: Status.ST1.NOT_COMMITTED, // player's commit status\n        pl2status1: Status.ST1.NOT_COMMITTED, // other player's reveal status\n        status2: Status.ST2.NOT_REVEALED, // player's reveal status\n        act: Status.ACT.NONE // player's ongoing actions\n      });\n      players.push({ addr: Status.NA, status1: Status.ST1.NOT_COMMITTED, pl2status1: Status.ST1.NOT_COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n      break;\n    case 1:\n      players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.NOT_COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n      players.push({ addr: Status.NA, status1: Status.ST1.NOT_COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n      break;\n    case 2:\n      const hasRevealed = await rockps.methods.getRevealed().call();\n      if (hasRevealed[0] && hasRevealed[1]) {\n        players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.REVEALED, act: Status.ACT.NONE });\n        players.push({ addr: playerAddr[1], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.REVEALED, act: Status.ACT.NONE });\n      }\n      else if (!hasRevealed[0] && !hasRevealed[1]) {\n        players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n        players.push({ addr: playerAddr[1], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n      }\n      else {\n        if (hasRevealed[0]) {\n          players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.REVEALED, act: Status.ACT.NONE});\n          players.push({ addr: playerAddr[1], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n        }\n        else {\n          players.push({ addr: playerAddr[0], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.NOT_REVEALED, act: Status.ACT.NONE });\n          players.push({ addr: playerAddr[1], status1: Status.ST1.COMMITTED, pl2status1: Status.ST1.COMMITTED, status2: Status.ST2.REVEALED, act: Status.ACT.NONE });\n        }\n      }\n      break;\n    default:\n  };\n  return(players);\n};\n\nexport const submitCommit = async (payload) => {\n  const accounts = await web3.eth.getAccounts();\n  const choice = payload.choice;\n  const nounce = payload.nounce;\n\n  const commit = web3.utils.soliditySha3(choice, nounce);\n  // TODO: add address in the commit?\n  console.log(\"choice: \", choice, \" nounce: \", nounce);\n  await rockps.methods.enterCommitment(commit).send({ \n    from: accounts[0],\n    value: 1000 \n  });\n  \n  return accounts[0];\n};\n\nexport const revealCommit = async (payload) => {\n  const accounts = await web3.eth.getAccounts();\n  const choice = payload.choice;\n  const nounce = payload.nounce;\n\n  await rockps.methods.reveal(choice,nounce).send({ from: accounts[0] });\n};\n\nexport const fetchStatus = async () => {\n    \n  const getLastest = await rockps.methods.latestWinner().call();\n  let gameCount = parseInt(await rockps.methods.gameCount().call());\n  let last = Status.WINNER.NOT_PLAYED;\n  if (gameCount !== 0) { \n    last = (getLastest === Status.WINNER.NEUTRAL) \n      ? Status.WINNER.DRAW\n      : getLastest;\n  };\n\n  const playerCount = parseInt(await rockps.methods.getPlayerCount().call());\n\n  let canBeFinalised = false;\n  const playerAddr = await rockps.methods.getPlayers().call();\n  if (playerAddr.length === 2) {\n    const hasRevealed = await rockps.methods.getRevealed().call();\n    if (hasRevealed[0] && hasRevealed[1]) {\n      canBeFinalised = true;\n    }\n  }\n\n  return({\n    canBeFinalised: canBeFinalised,\n    playerCount: playerCount,\n    last: last,\n    act: Status.ACT.NONE\n  });\n};\n\nexport const resetPlayers = () => {\n  return [\n    { addr: Status.NA, \n      status1: Status.ST1.NOT_COMMITTED, \n      pl2status1: Status.ST1.NOT_COMMITTED, \n      status2: Status.ST2.NOT_REVEALED, \n      act: Status.ACT.NONE },\n    { addr: Status.NA, \n      status1: Status.ST1.NOT_COMMITTED, \n      pl2status1: Status.ST1.NOT_COMMITTED, \n      status2: Status.ST2.NOT_REVEALED, \n      act: Status.ACT.NONE }\n  ];\n};\n\nexport const resetStatus = (last) => {\n  return ({\n    playerCount: 0,\n    canBeFinalised: Status.NO,\n    last: last,\n    act: Status.ACT.NONE\n  });\n};\n\nexport const canBeFinalised = () => {\n\n};\n\nexport const finaliseGame = async () => {\n  const accounts = await web3.eth.getAccounts();\n  await rockps.methods.finaliseGame().send({ from: accounts[0] });\n\n  const last = await rockps.methods.latestWinner().call();\n  return (last === Status.WINNER.NEUTRAL)\n    ? Status.WINNER.DRAW\n    : last;\n};\n\nexport const resetGame = async () => {\n  const accounts = await web3.eth.getAccounts();\n  await rockps.methods.resetGame().send({ from: accounts[0] });\n};","import * as ActionTypes from './actionTypes';\nimport { call, put, takeEvery, all } from 'redux-saga/effects';\nimport * as utils from '../web3/utils';\nimport * as Status from '../redux/status';\n\n/* --------------- FINALISE_GAME --------------- */\n\nfunction* watchFinaliseGame() {\n  yield takeEvery(ActionTypes.FINALISE_GAME_REQUEST, finaliseGame);\n};\n\nexport function* finaliseGame() {\n  try { \n    yield put({ \n      type: ActionTypes.UPDATE_STATUS_ACT, \n      payload: Status.ACT.FINAL\n    });\n    const last = yield call(utils.finaliseGame);\n    const status = utils.resetStatus(last);\n    yield put({ \n      type: ActionTypes.UPDATE_STATUS, \n      payload: status\n    });\n\n    const players = utils.resetPlayers();\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYERS, \n      payload: players\n    });\n\n  } catch (error) {\n    yield put({ type: ActionTypes.STATUS_FAILED, payload: error.message });\n  }\n}\n\n/* --------------- RESET_GAME --------------- */\n\nfunction* watchResetGame() {\n  yield takeEvery(ActionTypes.RESET_GAME_REQUEST, resetGame);\n};\n\nexport function* resetGame() {\n  try {\n    yield put({ \n      type: ActionTypes.UPDATE_STATUS_ACT, \n      payload: Status.ACT.RESET\n    });\n    yield call(utils.resetGame);\n    const status = utils.resetStatus(Status.WINNER.RESET);\n    yield put({ \n      type: ActionTypes.UPDATE_STATUS, \n      payload: status\n    });\n    const players = utils.resetPlayers();\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYERS, \n      payload: players\n    });  \n  } catch (error) {\n    yield put({ type: ActionTypes.STATUS_FAILED, payload: error.message });\n  }\n\n}\n\n/* --------------- REVEAL_COMMIT --------------- */\n\nfunction* watchRevealCommit() {\n  yield takeEvery(ActionTypes.REVEAL_COMMIT_REQUEST, revealCommit);\n}\n\nexport function* revealCommit(action) {\n  try {\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER_ACT, \n      payload: {\n        index: action.payload.index,\n        act: Status.ACT.SENDING\n      } \n    });\n    yield call(utils.revealCommit, action.payload);\n    const status = {\n      ...action.payload.player,\n      act: Status.ACT.SENT,\n      status2: Status.ST2.REVEALED\n    }\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER, \n      payload: {\n        index: action.payload.index,\n        status: status\n      } \n    });\n    // Below not good -- check out how to update canBeFinalised\n    const canBeFinalised = utils.canBeFinalised();\n    yield put({\n      type: ActionTypes.UPDATE_STATUS_FINALISED,\n      payload: canBeFinalised\n    });\n    \n  } catch(error) {\n    // TODO: divide the above on update status + update players => use existing actions in case of failure\n    yield put({ type: ActionTypes.REVEAL_COMMIT_FAILED, payload: error.message });\n  }\n}\n\n/* --------------- SUBMIT_COMMIT --------------- */\n\nfunction* watchSubmitCommit() {\n  yield takeEvery(ActionTypes.SUBMIT_COMMIT_REQUEST, submitCommit);\n}\n\nexport function* submitCommit(action) {\n  try {\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER_ACT, \n      payload: {\n        index: action.payload.index,\n        act: Status.ACT.SENDING\n      } \n    });\n    const addr = yield call(utils.submitCommit, action.payload);\n    const status = {\n      ...action.payload.player,\n      addr: addr,\n      act: Status.ACT.SENT,\n      status1: Status.ST1.COMMITTED\n    }\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER, \n      payload: {\n        index: action.payload.index,\n        status: status\n      } \n    });\n    const index2 = (action.payload.index===0) ? 1 : 0;\n    yield put({ \n      type: ActionTypes.UPDATE_PLAYER_PL2, \n      payload: {\n        index: index2,\n        status: Status.ST1.COMMITTED\n      } \n    });\n    yield put({ type: ActionTypes.UPDATE_STATUS_COUNT });\n  } catch (error) {\n    yield put({ type: ActionTypes.PLAYERS_FAILED, payload: error.message });\n  }\n\n}\n\n/* --------------- FETCH_PLAYER --------------- */\n\nfunction* watchFetchPlayers() {\n  yield takeEvery(ActionTypes.FETCH_PLAYERS_REQUEST, fetchPlayers);\n};\n\nexport function* fetchPlayers() {\n  try {\n    const players = yield call(utils.fetchPlayers);\n    yield put({ type: ActionTypes.UPDATE_PLAYERS, payload: players });\n  } catch (error) {\n    yield put({ type: ActionTypes.PLAYERS_FAILED, payload: error.message });\n  }\n\n}\n\n/* --------------- FETCH_GAME --------------- */\n\nfunction* watchFetchGameStatus() {\n  yield takeEvery(ActionTypes.FETCH_STATUS_REQUEST, fetchGameStatus);\n};\n\nexport function* fetchGameStatus() {\n  try {    \n    const gameStatus = yield call(utils.fetchStatus);\n    yield put({ type: ActionTypes.UPDATE_STATUS, payload: gameStatus });\n  } catch (error) {\n    yield put({ type: ActionTypes.STATUS_FAILED, payload: error.message });\n  }\n\n}\n\n/* --------------- SAGA ADMIN --------------- */\n\nexport function* rootSaga() {\n  yield all([\n    watchFinaliseGame(),\n    watchResetGame(),\n    watchFetchPlayers(),\n    watchFetchGameStatus(),\n    watchSubmitCommit(),\n    watchRevealCommit()\n  ]);\n};","import * as ActionTypes from './actionTypes';\n\nexport const GameStatus = (state = {\n  gameIsLoading: true,\n  gameErrMsg: null,\n  status: null\n}, action) => {\n  switch(action.type) {\n\n    case ActionTypes.FETCH_STATUS_REQUEST:\n      return {...state,\n        gameIsLoading: true, \n        gameErrMsg: null,\n        status: null\n      };\n\n    case ActionTypes.UPDATE_STATUS:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: action.payload\n      };\n\n    case ActionTypes.STATUS_FAILED:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: action.payload,\n        status: null\n      };\n\n    case ActionTypes.UPDATE_STATUS_COUNT:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: {...state.status,\n          playerCount: state.status.playerCount+1}\n      };\n\n    case ActionTypes.UPDATE_STATUS_FINALISED:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: {...state.status,\n          canBeFinalised: action.payload}\n      };\n\n    case ActionTypes.UPDATE_STATUS_ACT:\n      return {...state,\n        gameIsLoading: false,\n        gameErrMsg: null,\n        status: {...state.status,\n          act: action.payload}\n      };\n\n    default:\n      return state;\n  }\n}","import * as ActionTypes from './actionTypes';\n\nexport const Players = (state = {\n  playersIsLoading: true,\n  playersErrMsg: null,\n  players: []\n}, action) => {\n  switch(action.type) {\n\n    case ActionTypes.FETCH_PLAYERS_REQUEST:\n      return {...state,\n        playersIsLoading: true, \n        playersErrMsg: null,\n        players: []\n      };\n\n    case ActionTypes.PLAYERS_FAILED:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: action.payload,\n        players: []\n      };\n\n    case ActionTypes.UPDATE_PLAYERS:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: action.payload\n      };\n\n    case ActionTypes.UPDATE_PLAYER:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_ACT:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_ST1:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_ST2:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_ADDR:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    case ActionTypes.UPDATE_PLAYER_PL2:\n      return {...state,\n        playersIsLoading: false,\n        playersErrMsg: null,\n        players: subPlayers(state.players, action)\n      };\n\n    default:\n      return state;\n  }\n}\n\nconst subPlayers = (state, action) => {\n  switch(action.type) {\n\n    case ActionTypes.UPDATE_PLAYER:\n      switch(action.payload.index) {\n        case 0:\n          return [action.payload.status, state[1]];\n        case 1:\n          return [state[0], action.payload.status];\n        default:\n          return state;\n      }\n\n    case ActionTypes.UPDATE_PLAYER_ACT:\n      switch(action.payload.index) {\n        case 0:\n          return [\n            {...state[0], act: action.payload.act }, \n            state[1] \n          ];\n        case 1:\n          return [ \n            state[0],\n            {...state[1], act: action.payload.act }, \n          ];\n        case 2:\n          return [ \n            {...state[0], act: action.payload.act },\n            {...state[1], act: action.payload.act }, \n          ];\n        default:\n          return state;\n      }\n    \n    case ActionTypes.UPDATE_PLAYER_ST1:\n      switch(action.payload.index) {\n        case 0:\n          return [\n            {...state[0], status1: action.payload.status1 }, \n            state[1] \n          ];\n        case 1:\n          return [ \n            state[0],\n            {...state[1], status1: action.payload.status1 }, \n          ];\n        default:\n          return state;\n      }\n  \n      case ActionTypes.UPDATE_PLAYER_ST2:\n        switch(action.payload.index) {\n          case 0:\n            return [\n              {...state[0], status2: action.payload.status2 }, \n              state[1] \n            ];\n          case 1:\n            return [ \n              state[0],\n              {...state[1], status2: action.payload.status2 }, \n            ];\n          default:\n            return state;\n        }\n  \n      case ActionTypes.UPDATE_PLAYER_ADDR:\n        switch(action.payload.index) {\n          case 0:\n            return [\n              {...state[0], addr: action.payload.addr }, \n              state[1] \n            ];\n          case 1:\n            return [ \n              state[0],\n              {...state[1], addr: action.payload.addr }, \n            ];\n          default:\n            return state;\n        }\n  \n      case ActionTypes.UPDATE_PLAYER_PL2:\n        switch(action.payload.index) {\n          case 0:\n            return [\n              {...state[0], pl2status1: action.payload.status }, \n              state[1] \n            ];\n          case 1:\n            return [ \n              state[0],\n              {...state[1], pl2status1: action.payload.status }, \n            ];\n          default:\n            return state;\n        }\n\n    default:\n      return state;\n  }\n}","import { combineReducers } from 'redux';\nimport { GameStatus } from './statusReducer';\nimport { Players } from './playersReducer';\n\nconst rootReducer = combineReducers({\n  gameStatus: GameStatus,\n  players: Players\n});\n\nexport default rootReducer;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Main from './components/MainComponent';\nimport { configureStore } from './redux/configureStore';\nimport { Provider } from 'react-redux';\nimport './App.css';\n\nconst store = configureStore();\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <div className=\"App\">\n          <Main />\n        </div>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n\nApp.propTypes = {\n  store: PropTypes.object,\n  history: PropTypes.object,\n  Main: PropTypes.element\n}","import { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { rootSaga } from './actionCreators';\nimport rootReducer from './rootReducer';\nimport logger from 'redux-logger';\n\nexport const configureStore = () => {\n\n  const sagaMiddleware = createSagaMiddleware();\n\n  const store = createStore(\n    rootReducer, \n    compose(\n      applyMiddleware(\n        logger,\n        sagaMiddleware )\n    )\n  );\n\n  sagaMiddleware.run(rootSaga);\n\n  return store;\n};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}